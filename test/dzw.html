<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ°è—ç» Â· è·Ÿéšå…‰æ ‡æœ—è¯»</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'KaiTi', 'STKaiti', 'SimKai', serif;
        }

        body {
            background-color: #121212;
            color: #d4af37;
            line-height: 2;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .background-image {
            width: 100%;
            height: 100%;
            background-image: url('https://p1.ssl.qhimgs1.com/sdr/400__/t0198d3cb4cca6eea07.jpg');
            background-size: cover;
            background-position: center;
            filter: blur(8px) brightness(0.8);
            transform: scale(1.05);
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 10px 20px 40px;
            position: relative;
            z-index: 1;
            text-align: center;
            width: 100%;
        }

        .logo {
            font-size: 2.8rem;
            margin-bottom: 0px;
            font-weight: 400;
            letter-spacing: 2px;
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.7), 0 0 20px rgba(212, 175, 55, 0.5);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto -50px;
            text-shadow: 0 0 8px rgba(212, 175, 55, 0.5);
        }

        /* ç« èŠ‚å¯¼èˆª */
        .chapter-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            margin-bottom: 0px;
        }

        .nav-btn {
            padding: 8px 18px;
            background: rgba(212, 175, 55, 0.2);
            color: #d4af37;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            text-shadow: 0 0 5px rgba(212, 175, 55, 0.4);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: rgba(212, 175, 55, 0.1);
        }

        .nav-btn:hover:not(:disabled) {
            background: rgba(212, 175, 55, 0.3);
            transform: scale(1.05);
        }

        .chapter-info {
            margin-bottom: 25px;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* æ–‡æœ¬å†…å®¹æ¨¡å— â€”â€” å¢åŠ å…‰æ ‡æç¤º */
        .text-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 35px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(212, 175, 55, 0.2);
            margin-bottom: 20px;
            text-align: left;
            line-height: 2.2;
            max-height: 65vh;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(212, 175, 55, 0.3) transparent;
            -webkit-overflow-scrolling: touch;
            cursor: text; /* æš—ç¤ºå¯é€‰æ‹© */
            user-select: text;
        }

        .text-content::-webkit-scrollbar {
            width: 6px;
        }

        .text-content::-webkit-scrollbar-track {
            background: transparent;
        }

        .text-content::-webkit-scrollbar-thumb {
            background-color: rgba(212, 175, 55, 0.3);
            border-radius: 3px;
        }

        .text-content h2 {
            margin-bottom: 25px;
            color: #d4af37;
            font-weight: 400;
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
            padding-bottom: 12px;
            text-align: center;
            font-size: 1.8rem;
            text-shadow: 0 0 8px rgba(212, 175, 55, 0.6);
        }

        .text-content h3 {
            margin: 25px 0 12px;
            color: #d4af37;
            font-weight: 400;
            font-size: 1.5rem;
            text-shadow: 0 0 6px rgba(212, 175, 55, 0.5);
        }

        .text-content p {
            margin-bottom: 18px;
            opacity: 0.95;
            text-indent: 2em;
            font-size: 1.15rem;
            text-shadow: 0 0 5px rgba(212, 175, 55, 0.3);
        }

        .text-content .buddha-name {
            color: #f9e076;
            font-weight: 500;
            text-shadow: 0 0 8px rgba(249, 224, 118, 0.6);
        }

        footer {
            text-align: center;
            padding: 25px 0;
            border-top: 1px solid rgba(212, 175, 55, 0.2);
            margin-top: 20px;
            font-size: 0.9rem;
            opacity: 0.8;
            width: 100%;
            text-shadow: 0 0 5px rgba(212, 175, 55, 0.3);
        }

        /* è®¿é—®è®¡æ•°å™¨ - å·¦ä¸‹è§’ */
        .counter-container {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(30, 30, 30, 0.2);
            backdrop-filter: blur(10px);
            border-radius: 6px;
            padding: 8px 12px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(212, 175, 55, 0.08);
            z-index: 1000;
            text-align: center;
            opacity: 0.5;
        }

        .counter-title {
            font-size: 0.7rem;
            opacity: 0.7;
            margin-bottom: 2px;
            color: #d4af37;
            text-shadow: 0 0 3px rgba(212, 175, 55, 0.3);
        }

        .counter-number {
            font-size: 1.1rem;
            font-weight: bold;
            color: #d4af37;
            text-shadow: 0 0 5px rgba(212, 175, 55, 0.4);
        }

        .counter-label {
            font-size: 0.6rem;
            opacity: 0.6;
            margin-top: 2px;
            color: #d4af37;
        }

        /* ===== å…¨æ–°æœ—è¯»æ’­æ”¾å™¨ (å³ä¸‹è§’, æ›´å¼ºå¤§) ===== */
        .reader-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(20, 20, 20, 0.75);
            backdrop-filter: blur(12px);
            border-radius: 16px;
            padding: 18px 16px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(212, 175, 55, 0.2);
            border: 1px solid rgba(212, 175, 55, 0.15);
            z-index: 1000;
            width: 260px;
            color: #ecd89a;
            transition: opacity 0.3s;
            opacity: 0.85;
        }

        .reader-player:hover {
            opacity: 1;
        }

        .player-title {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
            margin-bottom: 12px;
            color: #d4af37;
            border-bottom: 1px dashed rgba(212, 175, 55, 0.3);
            padding-bottom: 6px;
            letter-spacing: 1px;
        }

        .player-title span {
            font-size: 1.1rem;
        }

        .progress-area {
            background: rgba(255, 255, 255, 0.06);
            border-radius: 20px;
            height: 6px;
            margin: 12px 0 8px;
            cursor: pointer;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #d4af37, #f9e076);
            border-radius: 20px;
            box-shadow: 0 0 8px #d4af37;
        }

        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 0.7rem;
            opacity: 0.8;
            margin-bottom: 12px;
            font-family: monospace;
        }

        .control-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .main-controls {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .reader-btn {
            background: rgba(212, 175, 55, 0.2);
            border: 1px solid rgba(212, 175, 55, 0.3);
            color: #d4af37;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1.1rem;
        }

        .reader-btn:hover:not(:disabled) {
            background: rgba(212, 175, 55, 0.4);
            transform: scale(1.05);
            box-shadow: 0 0 10px #d4af37;
        }

        .reader-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .reader-btn.small {
            width: 28px;
            height: 28px;
            font-size: 0.9rem;
        }

        .play-icon-large {
            font-size: 1.3rem;
        }

        .volume-slider-container {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 8px;
            background: rgba(0,0,0,0.3);
            border-radius: 30px;
            padding: 5px 8px;
        }

        .volume-icon {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .volume-track {
            flex: 1;
            height: 4px;
            background: rgba(212,175,55,0.2);
            border-radius: 2px;
            cursor: pointer;
            position: relative;
        }

        .volume-fill {
            height: 100%;
            width: 50%;
            background: #d4af37;
            border-radius: 2px;
        }

        .cursor-hint {
            font-size: 0.7rem;
            text-align: center;
            margin-top: 8px;
            background: rgba(212,175,55,0.1);
            padding: 3px;
            border-radius: 30px;
            color: #f9e076;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .cursor-hint i {
            font-style: normal;
            margin-right: 4px;
        }

        .status-msg {
            font-size: 0.7rem;
            opacity: 0.7;
            text-align: center;
            margin-top: 5px;
        }

        /* ä¸­å›½ç”µä¿¡å¹¿å‘Š */
        .telecom-ad {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(30, 30, 30, 0.6);
            backdrop-filter: blur(8px);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(212, 175, 55, 0.3);
            z-index: 999;
            cursor: pointer;
            opacity: 0.7;
            width: 80px;
            height: 80px;
        }

        .close-btn {
            position: absolute;
            top: -8px;
            right: -8px;
            width: 18px;
            height: 18px;
            background: rgba(212, 175, 55, 0.7);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 12px;
            color: #121212;
            border: 1px solid #d4af37;
            z-index: 1001;
        }

        @media (max-width: 768px) {
            .logo { font-size: 2.2rem; }
            .text-content { padding: 25px; max-height: 60vh; }
            .reader-player { width: 230px; padding: 14px; right: 10px; bottom: 10px; }
            .telecom-ad { right: 10px; width: 70px; height: 70px; }
        }

        .golden-glow {
            animation: goldenGlow 3s ease-in-out infinite;
        }
        @keyframes goldenGlow {
            0% { text-shadow: 0 0 5px rgba(212, 175, 55, 0.5), 0 0 10px rgba(212, 175, 55, 0.3); }
            50% { text-shadow: 0 0 10px rgba(212, 175, 55, 0.7), 0 0 20px rgba(212, 175, 55, 0.5); }
            100% { text-shadow: 0 0 5px rgba(212, 175, 55, 0.5), 0 0 10px rgba(212, 175, 55, 0.3); }
        }
    </style>
</head>
<body>
    <div class="counter-container fade-in" id="counterContainer">
        <div class="counter-title">ç´¯è®¡è®¿é—®é‡</div>
        <div class="counter-number golden-glow" id="globalVisitCount"> -- </div>
        <div class="counter-label">è™”è¯šè¯µè¯»</div>
    </div>

    <div class="background-container">
        <div class="background-image"></div>
        <div class="overlay"></div>
    </div>

    <div class="container">
        <div class="logo fade-in golden-glow">åœ°ç‹±ä¸ç©º èª“ä¸æˆä½›</div>
        <p class="subtitle fade-in delay-1 golden-glow">åœ°è—è©è¨æœ¬æ„¿ç» Â· å…‰æ ‡æœ—è¯»</p>

        <div class="chapter-info fade-in delay-2 golden-glow" id="chapterInfo">
            å½“å‰ç« èŠ‚ï¼šå·ä¸Š Â· å¿‰åˆ©å¤©å®«ç¥é€šå“ç¬¬ä¸€
        </div>

        <!-- æ–‡æœ¬å†…å®¹æ¨¡å— (å¯ç‚¹å‡»å®šä½) -->
        <div class="text-content fade-in delay-2" id="scriptureContent"></div>

        <!-- ç« èŠ‚å¯¼èˆª -->
        <div class="chapter-nav fade-in delay-2">
            <button class="nav-btn" id="prevChapter"><span>â—€</span> ä¸Šä¸€ç« </button>
            <button class="nav-btn" id="nextChapter">ä¸‹ä¸€ç«  <span>â–¶</span></button>
        </div>

        <footer class="fade-in delay-3 golden-glow">
            <p>Â© åœ°è—ç‹æœ¬æ„¿ç» Â· éšå…‰æ ‡è¯µè¯»</p>
        </footer>
    </div>

    <!-- ========== å…¨æ–°æœ—è¯»æ’­æ”¾å™¨ ========== -->
    <div class="reader-player" id="readerPlayer">
        <div class="player-title"><span>ğŸ”Š</span> è·Ÿéšå…‰æ ‡æœ—è¯»</div>

        <!-- è¿›åº¦æ¡ -->
        <div class="progress-area" id="progressArea">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="time-display">
            <span id="currentTime">00:00</span>
            <span id="durationTime">00:00</span>
        </div>

        <!-- ä¸»æ§åˆ¶æŒ‰é’®ç»„ -->
        <div class="control-row">
            <div class="main-controls">
                <button class="reader-btn small" id="prevSentenceBtn" title="ä¸Šä¸€å¥">â®</button>
                <button class="reader-btn" id="playPauseBtn" title="æ’­æ”¾/æš‚åœ"><span class="play-icon-large">â–¶</span></button>
                <button class="reader-btn small" id="nextSentenceBtn" title="ä¸‹ä¸€å¥">â­</button>
            </div>
            <button class="reader-btn small" id="stopBtn" title="åœæ­¢">â¹</button>
        </div>

        <!-- éŸ³é‡æ§åˆ¶æ¡ -->
        <div class="volume-slider-container">
            <span class="volume-icon" id="volumeIcon">ğŸ”Š</span>
            <div class="volume-track" id="volumeTrack">
                <div class="volume-fill" id="volumeFill" style="width: 50%;"></div>
            </div>
        </div>

        <!-- æ˜¾ç¤ºå½“å‰å…‰æ ‡ä½ç½®é¢„è§ˆ/çŠ¶æ€ -->
        <div class="cursor-hint" id="cursorHint">
            <i>ğŸ“</i> ç‚¹å‡»æ–‡æœ¬é€‰æ‹©å¼€å§‹å¤„
        </div>
        <div class="status-msg" id="statusMsg">å‡†å¤‡å°±ç»ª</div>
    </div>

    <!-- ä¸­å›½ç”µä¿¡å¹¿å‘Š (ä¿ç•™åŸæ ·) -->
    <div class="telecom-ad fade-in" id="telecomAd">
        <div class="close-btn" id="closeAd">Ã—</div>
        <a href="https://share20251108.haonetwork.cn/a?l=hx6oc2i0Jd3Id7_1295" target="_blank" class="telecom-content" style="text-decoration:none; display:flex; flex-direction:column; align-items:center;">
            <div style="font-size: 1.2rem; color: #d4af37;">ğŸ“¡</div>
            <div style="color:#d4af37; font-size:0.7rem;">ä¸­å›½ç”µä¿¡</div>
            <div style="color:#d4af37; font-size:0.5rem;">ç‚¹å‡»äº†è§£</div>
        </a>
    </div>

    <script>
        (function() {
            // ---------- åœ°è—ç»ç« èŠ‚æ•°æ® (åŒåŸæ ·ï¼Œç•¥ä½œä¿ç•™) ----------
            const chapters = [
                { title: "å·ä¸Š Â· å¿‰åˆ©å¤©å®«ç¥é€šå“ç¬¬ä¸€", content: `<h2>åœ°è—è©è¨æœ¬æ„¿ç»</h2><h3>å·ä¸Š</h3><h3>å¿‰åˆ©å¤©å®«ç¥é€šå“ç¬¬ä¸€</h3><p>å¦‚æ˜¯æˆ‘é—»ã€‚ä¸€æ—¶ä½›åœ¨å¿‰åˆ©å¤©ï¼Œä¸ºæ¯è¯´æ³•ã€‚</p><p>å°”æ—¶åæ–¹æ— é‡ä¸–ç•Œï¼Œä¸å¯è¯´ä¸å¯è¯´ä¸€åˆ‡è¯¸ä½›ï¼ŒåŠå¤§è©è¨æ‘©è¯ƒè¨ï¼Œçš†æ¥é›†ä¼šã€‚èµå¹é‡Šè¿¦ç‰Ÿå°¼ä½›ï¼Œèƒ½äºäº”æµŠæ¶ä¸–ï¼Œç°ä¸å¯æ€è®®å¤§æ™ºæ…§ç¥é€šä¹‹åŠ›ï¼Œè°ƒä¼åˆšå¼ºä¼—ç”Ÿï¼ŒçŸ¥è‹¦ä¹æ³•ï¼Œå„é£ä¾è€…ï¼Œé—®è®¯ä¸–å°Šã€‚</p><p>æ˜¯æ—¶ï¼Œå¦‚æ¥å«ç¬‘ï¼Œæ”¾ç™¾åƒä¸‡äº¿å¤§å…‰æ˜äº‘ï¼Œæ‰€è°“å¤§åœ†æ»¡å…‰æ˜äº‘ã€å¤§æ…ˆæ‚²å…‰æ˜äº‘ã€å¤§æ™ºæ…§å…‰æ˜äº‘ã€å¤§èˆ¬è‹¥å…‰æ˜äº‘ã€å¤§ä¸‰æ˜§å…‰æ˜äº‘ã€å¤§å‰ç¥¥å…‰æ˜äº‘ã€å¤§ç¦å¾·å…‰æ˜äº‘ã€å¤§åŠŸå¾·å…‰æ˜äº‘ã€å¤§å½’ä¾å…‰æ˜äº‘ã€å¤§èµå¹å…‰æ˜äº‘ã€‚æ”¾å¦‚æ˜¯ç­‰ä¸å¯è¯´å…‰æ˜äº‘å·²ã€‚</p><p>åˆå‡ºç§ç§å¾®å¦™ä¹‹éŸ³ï¼Œæ‰€è°“æª€æ³¢ç½—èœœéŸ³ã€å°¸æ³¢ç½—èœœéŸ³ã€ç¾¼ææ³¢ç½—å¯†éŸ³ã€æ¯—ç¦»è€¶æ³¢ç½—èœœéŸ³ã€ç¦…æ³¢ç½—èœœéŸ³ã€èˆ¬è‹¥æ³¢ç½—å¯†éŸ³ã€æ…ˆæ‚²éŸ³ã€å–œèˆéŸ³ã€è§£è„±éŸ³ã€æ— æ¼éŸ³ã€æ™ºæ…§éŸ³ã€å¤§æ™ºæ…§éŸ³ã€å¸ˆå­å¼éŸ³ã€å¤§å¸ˆå­å¼éŸ³ã€äº‘é›·éŸ³ã€å¤§äº‘é›·éŸ³ã€‚</p><p>å‡ºå¦‚æ˜¯ç­‰ä¸å¯è¯´ä¸å¯è¯´éŸ³å·²ï¼Œå¨‘å©†ä¸–ç•Œï¼ŒåŠä»–æ–¹å›½åœŸï¼Œæœ‰æ— é‡äº¿å¤©é¾™é¬¼ç¥ï¼Œäº¦é›†åˆ°å¿‰åˆ©å¤©å®«ï¼Œæ‰€è°“å››å¤©ç‹å¤©ã€å¿‰åˆ©å¤©ã€é¡»ç„°æ‘©å¤©ã€å…œç‡é™€å¤©ã€åŒ–ä¹å¤©ã€ä»–åŒ–è‡ªåœ¨å¤©ã€æ¢µä¼—å¤©ã€æ¢µè¾…å¤©ã€å¤§æ¢µå¤©ã€å°‘å…‰å¤©ã€æ— é‡å…‰å¤©ã€å…‰éŸ³å¤©ã€å°‘å‡€å¤©ã€æ— é‡å‡€å¤©ã€éå‡€å¤©ã€ç¦ç”Ÿå¤©ã€ç¦çˆ±å¤©ã€å¹¿æœå¤©ã€æ— æƒ³å¤©ã€æ— çƒ¦å¤©ã€æ— çƒ­å¤©ã€å–„è§å¤©ã€å–„ç°å¤©ã€è‰²ç©¶ç«Ÿå¤©ã€æ‘©é†¯é¦–ç½—å¤©ã€ä¹ƒè‡³éæƒ³ééæƒ³å¤„å¤©ï¼Œä¸€åˆ‡å¤©ä¼—ã€é¾™ä¼—ã€é¬¼ç¥ç­‰ä¼—ï¼Œæ‚‰æ¥é›†ä¼šã€‚</p><p>å¤æœ‰ä»–æ–¹å›½åœŸï¼ŒåŠå¨‘å©†ä¸–ç•Œï¼Œæµ·ç¥ã€æ±Ÿç¥ã€æ²³ç¥ã€æ ‘ç¥ã€å±±ç¥ã€åœ°ç¥ã€å·æ³½ç¥ã€è‹—ç¨¼ç¥ã€æ˜¼ç¥ã€å¤œç¥ã€ç©ºç¥ã€å¤©ç¥ã€é¥®é£Ÿç¥ã€è‰æœ¨ç¥ï¼Œå¦‚æ˜¯ç­‰ç¥ï¼Œçš†æ¥é›†ä¼šã€‚</p><p>å¤æœ‰ä»–æ–¹å›½åœŸï¼ŒåŠå¨‘å©†ä¸–ç•Œï¼Œè¯¸å¤§é¬¼ç‹ï¼Œæ‰€è°“ï¼šæ¶ç›®é¬¼ç‹ã€å•–è¡€é¬¼ç‹ã€å•–ç²¾æ°”é¬¼ç‹ã€å•–èƒåµé¬¼ç‹ã€è¡Œç—…é¬¼ç‹ã€æ‘„æ¯’é¬¼ç‹ã€æ…ˆå¿ƒé¬¼ç‹ã€ç¦åˆ©é¬¼ç‹ã€å¤§çˆ±æ•¬é¬¼ç‹ï¼Œå¦‚æ˜¯ç­‰é¬¼ç‹ï¼Œçš†æ¥é›†ä¼šã€‚</p><p>å°”æ—¶é‡Šè¿¦ç‰Ÿå°¼ä½›ã€å‘Šæ–‡æ®Šå¸ˆåˆ©æ³•ç‹å­è©è¨æ‘©è¯ƒè¨ï¼šã€Œæ±è§‚æ˜¯ä¸€åˆ‡è¯¸ä½›è©è¨åŠå¤©é¾™é¬¼ç¥ï¼Œæ­¤ä¸–ç•Œã€ä»–ä¸–ç•Œï¼Œæ­¤å›½åœŸã€ä»–å›½åœŸï¼Œå¦‚æ˜¯ä»Šæ¥é›†ä¼šåˆ°å¿‰åˆ©å¤©è€…ï¼Œæ±çŸ¥æ•°ä¸ï¼Ÿã€</p><p>æ–‡æ®Šå¸ˆåˆ©ç™½ä½›è¨€ï¼šã€Œä¸–å°Šï¼Œè‹¥ä»¥æˆ‘ç¥åŠ›ï¼ŒåƒåŠ«æµ‹åº¦ï¼Œä¸èƒ½å¾—çŸ¥ã€‚ã€</p><p>ä½›å‘Šæ–‡æ®Šå¸ˆåˆ©ï¼šã€Œå¾ä»¥ä½›çœ¼è§‚æ•…ï¼ŒçŠ¹ä¸å°½æ•°ã€‚æ­¤çš†æ˜¯åœ°è—è©è¨ä¹…è¿œåŠ«æ¥ï¼Œå·²åº¦ã€å½“åº¦ã€æœªåº¦ï¼Œå·²æˆå°±ã€å½“æˆå°±ã€æœªæˆå°±ã€‚ã€</p><p>æ–‡æ®Šå¸ˆåˆ©ç™½ä½›è¨€ï¼šã€Œä¸–å°Šï¼Œæˆ‘å·²è¿‡å»ä¹…ä¿®å–„æ ¹ã€è¯æ— ç¢æ™ºã€‚é—»ä½›æ‰€è¨€ï¼Œå³å½“ä¿¡å—ã€‚å°æœå£°é—»ã€å¤©é¾™å…«éƒ¨ã€åŠæœªæ¥ä¸–è¯¸ä¼—ç”Ÿç­‰ï¼Œè™½é—»å¦‚æ¥è¯šå®ä¹‹è¯­ï¼Œå¿…æ€€ç–‘æƒ‘ã€‚è®¾ä½¿é¡¶å—ï¼Œæœªå…å…´è°¤ã€‚å”¯æ„¿ä¸–å°Šã€å¹¿è¯´åœ°è—è©è¨æ‘©è¯ƒè¨ï¼Œå› åœ°ä½œä½•è¡Œã€ç«‹ä½•æ„¿ï¼Œè€Œèƒ½æˆå°±ä¸æ€è®®äº‹ã€‚ã€</p><p>ä½›å‘Šæ–‡æ®Šå¸ˆåˆ©ï¼šã€Œè­¬å¦‚ä¸‰åƒå¤§åƒä¸–ç•Œæ‰€æœ‰è‰æœ¨ä¸›æ—ã€ç¨»éº»ç«¹è‹‡ã€å±±çŸ³å¾®å°˜ï¼Œä¸€ç‰©ä¸€æ•°ï¼Œä½œä¸€æ’æ²³ï¼›ä¸€æ’æ²³æ²™ï¼Œä¸€æ²™ä¸€ç•Œï¼›ä¸€ç•Œä¹‹å†…ã€ä¸€å°˜ä¸€åŠ«ï¼›ä¸€åŠ«ä¹‹å†…ï¼Œæ‰€ç§¯å°˜æ•°ï¼Œå°½å……ä¸ºåŠ«ï¼Œåœ°è—è©è¨è¯ååœ°æœä½ä»¥æ¥ï¼Œåƒå€å¤šäºä¸Šå–»ã€‚ä½•å†µåœ°è—è©è¨åœ¨å£°é—»ã€è¾Ÿæ”¯ä½›åœ°ã€‚ã€</p><p>æ–‡æ®Šå¸ˆåˆ©ï¼Œæ­¤è©è¨å¨ç¥èª“æ„¿ï¼Œä¸å¯æ€è®®ã€‚è‹¥æœªæ¥ä¸–ï¼Œæœ‰å–„ç”·å­ã€å–„å¥³äººï¼Œé—»æ˜¯è©è¨åå­—ï¼Œæˆ–èµå¹ã€æˆ–ç»ç¤¼ã€æˆ–ç§°åã€æˆ–ä¾›å…»ï¼Œä¹ƒè‡³å½©ç”»åˆ»é•‚å¡‘æ¼†å½¢åƒï¼Œæ˜¯äººå½“å¾—ç™¾è¿”ç”Ÿäºä¸‰åä¸‰å¤©ï¼Œæ°¸ä¸å •æ¶é“ã€‚ã€` },
                { title: "å·ä¸Š Â· åˆ†èº«é›†ä¼šå“ç¬¬äºŒ", content: `<h2>åœ°è—è©è¨æœ¬æ„¿ç»</h2><h3>å·ä¸Š</h3><h3>åˆ†èº«é›†ä¼šå“ç¬¬äºŒ</h3><p>å°”æ—¶ç™¾åƒä¸‡äº¿ä¸å¯æ€ã€ä¸å¯è®®ã€ä¸å¯é‡ã€ä¸å¯è¯´æ— é‡é˜¿åƒ§ç¥‡ä¸–ç•Œï¼Œæ‰€æœ‰åœ°ç‹±å¤„ï¼Œåˆ†èº«åœ°è—è©è¨ï¼Œä¿±æ¥é›†åœ¨å¿‰åˆ©å¤©å®«ã€‚ä»¥å¦‚æ¥ç¥åŠ›æ•…ï¼Œå„ä»¥æ–¹é¢ï¼Œä¸è¯¸å¾—è§£è„±ä»ä¸šé“å‡ºè€…ï¼Œäº¦å„æœ‰åƒä¸‡äº¿é‚£ç”±ä»–æ•°ï¼Œå…±æŒé¦™åï¼Œæ¥ä¾›å…»ä½›ã€‚</p><p>å½¼è¯¸åŒæ¥ç­‰è¾ˆï¼Œçš†å› åœ°è—è©è¨æ•™åŒ–ï¼Œæ°¸ä¸é€€è½¬äºé˜¿è€¨å¤šç½—ä¸‰è—ä¸‰è©æã€‚æ˜¯è¯¸ä¼—ç­‰ï¼Œä¹…è¿œåŠ«æ¥ï¼Œæµæµªç”Ÿæ­»ï¼Œå…­é“å—è‹¦ï¼Œæš‚æ— ä¼‘æ¯ã€‚ä»¥åœ°è—è©è¨å¹¿å¤§æ…ˆæ‚²ï¼Œæ·±èª“æ„¿æ•…ï¼Œå„è·æœè¯ã€‚æ—¢è‡³å¿‰åˆ©ï¼Œå¿ƒæ€€è¸Šè·ƒï¼Œç»ä»°å¦‚æ¥ï¼Œç›®ä¸æš‚èˆã€‚</p><p>å°”æ—¶ï¼Œä¸–å°Šèˆ’é‡‘è‰²è‡‚ï¼Œæ‘©ç™¾åƒä¸‡äº¿ä¸å¯æ€ã€ä¸å¯è®®ã€ä¸å¯é‡ã€ä¸å¯è¯´æ— é‡é˜¿åƒ§ç¥‡ä¸–ç•Œè¯¸åˆ†èº«åœ°è—è©è¨æ‘©è¯ƒè¨é¡¶ï¼Œè€Œä½œæ˜¯è¨€ï¼šã€Œå¾äºäº”æµŠæ¶ä¸–ï¼Œæ•™åŒ–å¦‚æ˜¯åˆšå¼ºä¼—ç”Ÿï¼Œä»¤å¿ƒè°ƒä¼ï¼Œèˆé‚ªå½’æ­£ï¼Œåæœ‰ä¸€äºŒï¼Œå°šæ¶ä¹ åœ¨ã€‚å¾äº¦åˆ†èº«åƒç™¾äº¿ï¼Œå¹¿è®¾æ–¹ä¾¿ã€‚æˆ–æœ‰åˆ©æ ¹ï¼Œé—»å³ä¿¡å—ï¼›æˆ–æœ‰å–„æœï¼Œå‹¤åŠæˆå°±ï¼›æˆ–æœ‰æš—é’ï¼Œä¹…åŒ–æ–¹å½’ï¼›æˆ–æœ‰ä¸šé‡ï¼Œä¸ç”Ÿæ•¬ä»°ã€‚å¦‚æ˜¯ç­‰è¾ˆä¼—ç”Ÿï¼Œå„å„å·®åˆ«ï¼Œåˆ†èº«åº¦è„±ã€‚ã€</p><p>ã€Œæˆ–ç°ç”·å­èº«ã€æˆ–ç°å¥³äººèº«ã€æˆ–ç°å¤©é¾™èº«ã€æˆ–ç°ç¥é¬¼èº«ã€æˆ–ç°å±±æ—å·æ³½ã€æ²³æ± æ³‰äº•ï¼Œåˆ©åŠäºäººï¼Œæ‚‰çš†åº¦è„±ã€‚æˆ–ç°å¤©å¸èº«ã€æˆ–ç°æ¢µç‹èº«ã€æˆ–ç°è½¬è½®ç‹èº«ã€æˆ–ç°å±…å£«èº«ã€æˆ–ç°å›½ç‹èº«ã€æˆ–ç°å®°è¾…èº«ã€æˆ–ç°å®˜å±èº«ã€æˆ–ç°æ¯”ä¸˜ã€æ¯”ä¸˜å°¼ã€ä¼˜å©†å¡ã€ä¼˜å©†å¤·èº«ã€ä¹ƒè‡³å£°é—»ã€ç½—æ±‰ã€è¾Ÿæ”¯ä½›ã€è©è¨ç­‰èº«ã€è€Œä»¥åŒ–åº¦ã€‚éä½†ä½›èº«ï¼Œç‹¬ç°å…¶å‰ã€‚ã€</p><p>ã€Œæ±è§‚å¾ç´¯åŠ«å‹¤è‹¦ï¼Œåº¦è„±å¦‚æ˜¯ç­‰éš¾åŒ–åˆšå¼ºç½ªè‹¦ä¼—ç”Ÿã€‚å…¶æœ‰æœªè°ƒä¼è€…ï¼Œéšä¸šæŠ¥åº”ã€‚è‹¥å •æ¶è¶£ï¼Œå—å¤§è‹¦æ—¶ï¼Œæ±å½“å¿†å¿µå¾åœ¨å¿‰åˆ©å¤©å®«ï¼Œæ®·å‹¤ä»˜å˜±ã€‚ä»¤å¨‘å©†ä¸–ç•Œï¼Œè‡³å¼¥å‹’å‡ºä¸–å·²æ¥ä¼—ç”Ÿï¼Œæ‚‰ä½¿è§£è„±ï¼Œæ°¸ç¦»è¯¸è‹¦ï¼Œé‡ä½›æˆè®°ã€‚ã€</p><p>å°”æ—¶ï¼Œè¯¸ä¸–ç•Œåˆ†èº«åœ°è—è©è¨ï¼Œå…±å¤ä¸€å½¢ï¼Œæ¶•æ³ªå“€æ‹ï¼Œç™½å…¶ä½›è¨€ï¼šã€Œæˆ‘ä»ä¹…è¿œåŠ«æ¥ï¼Œè’™ä½›æ¥å¼•ï¼Œä½¿è·ä¸å¯æ€è®®ç¥åŠ›ï¼Œå…·å¤§æ™ºæ…§ã€‚æˆ‘æ‰€åˆ†èº«ï¼Œéæ»¡ç™¾åƒä¸‡äº¿æ’æ²³æ²™ä¸–ç•Œï¼Œæ¯ä¸€ä¸–ç•ŒåŒ–ç™¾åƒä¸‡äº¿èº«ï¼Œæ¯ä¸€èº«åº¦ç™¾åƒä¸‡äº¿äººï¼Œä»¤å½’æ•¬ä¸‰å®ï¼Œæ°¸ç¦»ç”Ÿæ­»ï¼Œè‡³æ¶…æ§ƒä¹ã€‚ä½†äºä½›æ³•ä¸­æ‰€ä¸ºå–„äº‹ï¼Œä¸€æ¯›ä¸€æ¸§ï¼Œä¸€æ²™ä¸€å°˜ï¼Œæˆ–æ¯«å‘è®¸ï¼Œæˆ‘æ¸åº¦è„±ï¼Œä½¿è·å¤§åˆ©ã€‚å”¯æ„¿ä¸–å°Šï¼Œä¸ä»¥åä¸–æ¶ä¸šä¼—ç”Ÿä¸ºè™‘ã€‚ã€</p><p>å¦‚æ˜¯ä¸‰ç™½ä½›è¨€ï¼šã€Œå”¯æ„¿ä¸–å°Šï¼Œä¸ä»¥åä¸–æ¶ä¸šä¼—ç”Ÿä¸ºè™‘ã€‚ã€</p><p>å°”æ—¶ï¼Œä½›èµåœ°è—è©è¨è¨€ï¼šã€Œå–„å“‰ï¼å–„å“‰ï¼å¾åŠ©æ±å–œã€‚æ±èƒ½æˆå°±ä¹…è¿œåŠ«æ¥ï¼Œå‘å¼˜èª“æ„¿ï¼Œå¹¿åº¦å°†æ¯•ï¼Œå³è¯è©æã€‚ã€` },
                { title: "å·ä¸Š Â· è§‚ä¼—ç”Ÿä¸šç¼˜å“ç¬¬ä¸‰", content: `<h2>åœ°è—è©è¨æœ¬æ„¿ç»</h2><h3>å·ä¸Š</h3><h3>è§‚ä¼—ç”Ÿä¸šç¼˜å“ç¬¬ä¸‰</h3><p>å°”æ—¶ä½›æ¯æ‘©è€¶å¤«äººï¼Œæ­æ•¬åˆæŒï¼Œé—®åœ°è—è©è¨è¨€ï¼šã€Œåœ£è€…ï¼Œé˜æµ®ä¼—ç”Ÿï¼Œé€ ä¸šå·®åˆ«ï¼Œæ‰€å—æŠ¥åº”ï¼Œå…¶äº‹äº‘ä½•ï¼Ÿã€</p><p>åœ°è—ç­”è¨€ï¼šã€Œåƒä¸‡ä¸–ç•Œï¼Œä¹ƒåŠå›½åœŸï¼Œæˆ–æœ‰åœ°ç‹±ã€æˆ–æ— åœ°ç‹±ï¼›æˆ–æœ‰å¥³äººã€æˆ–æ— å¥³äººï¼›æˆ–æœ‰ä½›æ³•ã€æˆ–æ— ä½›æ³•ï¼Œä¹ƒè‡³å£°é—»è¾Ÿæ”¯ä½›ï¼Œäº¦å¤å¦‚æ˜¯ï¼Œéä½†åœ°ç‹±ç½ªæŠ¥ä¸€ç­‰ã€‚ã€</p><p>æ‘©è€¶å¤«äººé‡ç™½è©è¨ï¼šã€Œä¸”æ„¿é—»äºé˜æµ®ç½ªæŠ¥æ‰€æ„Ÿæ¶è¶£ã€‚ã€</p><p>åœ°è—ç­”è¨€ï¼šã€Œåœ£æ¯ï¼Œå”¯æ„¿å¬å—ï¼Œæˆ‘ç²—è¯´ä¹‹ã€‚ã€</p><p>ä½›æ¯ç™½è¨€ï¼šã€Œæ„¿åœ£è€…è¯´ã€‚ã€</p><p>åœ°è—è¨€ï¼šã€Œåœ£æ¯ï¼Œé˜æµ®ä¼—ç”Ÿï¼Œä¸¾å¿ƒåŠ¨å¿µï¼Œæ— éæ˜¯ç½ªã€‚è„±è·å–„åˆ©ï¼Œå¤šé€€åˆå¿ƒã€‚è‹¥é‡æ¶ç¼˜ï¼Œå¿µå¿µå¢é•¿ã€‚æ˜¯ç­‰è¾ˆäººï¼Œå¦‚å±¥æ³¥æ¶‚ï¼Œè´Ÿäºé‡çŸ³ï¼Œæ¸å›°æ¸é‡ï¼Œè¶³æ­¥æ·±é‚ƒã€‚è‹¥å¾—é‡çŸ¥è¯†ï¼Œæ›¿ä¸å‡è´Ÿï¼Œæˆ–å…¨ä¸è´Ÿã€‚æ˜¯çŸ¥è¯†æœ‰å¤§åŠ›æ•…ï¼Œå¤ç›¸æ‰¶åŠ©ï¼ŒåŠä»¤ç‰¢è„šã€‚è‹¥è¾¾å¹³åœ°ï¼Œé¡»çœæ¶è·¯ï¼Œæ— å†ç»å†ã€‚ã€</p><p>ã€Œåœ£æ¯ï¼Œé˜æµ®ä¼—ç”Ÿï¼Œè‹¥èƒ½äºè¯¸å–„äº‹ï¼Œä¸€æ¯›ä¸€æ¸§ï¼Œä¸€æ²™ä¸€å°˜ï¼Œå¦‚æ˜¯åˆ©ç›Šï¼Œæ‚‰çš†è‡ªå¾—ã€‚ã€</p><p>ã€Œå¤æ¬¡ï¼Œåœ£æ¯ï¼Œä¼—ç”Ÿä¸šæ„Ÿï¼Œå·®åˆ«ä¸åŒï¼Œæ˜¯æ•…æœ‰è¯¸åœ°ç‹±ã€é¥¿é¬¼ã€ç•œç”Ÿã€ä¿®ç½—ã€äººã€å¤©ç­‰é“ã€‚ã€</p><p>ã€Œåœ£æ¯ï¼Œè‹¥é‡æ€ç”Ÿè€…ï¼Œè¯´å®¿æ®ƒçŸ­å‘½æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡çªƒç›—è€…ï¼Œè¯´è´«ç©·è‹¦æ¥šæŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡é‚ªæ·«è€…ï¼Œè¯´é›€é¸½é¸³é¸¯æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡æ¶å£è€…ï¼Œè¯´çœ·å±æ–—è¯¤æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡ä¸¤èˆŒè€…ï¼Œè¯´æ— èˆŒç–®å£æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡ç»®è¯­è€…ï¼Œè¯´çŸ¬é™‹å–‘å“‘æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡è´ªæ¬²è€…ï¼Œè¯´é¥¿é¬¼æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡å—”æšè€…ï¼Œè¯´ä¸‘é™‹ç™ƒæ®‹æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡æ„šç—´è€…ï¼Œè¯´ç•œç”ŸæŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡è°¤ä½›è€…ï¼Œè¯´ç›²è‹å–‘å“‘æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡è°¤æ³•è€…ï¼Œè¯´æ‰€æ±‚è¿æ„¿æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡è°¤åƒ§è€…ï¼Œè¯´ç”Ÿè›‡è™ºä¸­æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡è½»æ³•æ…¢æ•™è€…ï¼Œè¯´æ°¸å¤„æ¶é“æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡ç ´ç”¨å¸¸ä½è€…ï¼Œè¯´äº¿åŠ«è½®å›åœ°ç‹±æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡æ±¡æ¢µè¯¬åƒ§è€…ï¼Œè¯´æ°¸åœ¨ç•œç”ŸæŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡æ±¤ç«æ–©æ–«ä¼¤ç”Ÿè€…ï¼Œè¯´è½®å›é€’å¿æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡ç ´æˆ’çŠ¯æ–‹è€…ï¼Œè¯´ç¦½å…½é¥¥é¥¿æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡éç†æ¯ç”¨è€…ï¼Œè¯´æ‰€æ±‚é˜™ç»æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡å¾æˆ‘è´¡é«˜è€…ï¼Œè¯´å‘ä½¿ä¸‹è´±æŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡ä¸¤èˆŒæ–—ä¹±è€…ï¼Œè¯´æ— èˆŒç™¾èˆŒæŠ¥ã€‚ã€</p><p>ã€Œè‹¥é‡é‚ªè§è€…ï¼Œè¯´è¾¹åœ°å—ç”ŸæŠ¥ã€‚ã€</p><p>ã€Œå¦‚æ˜¯ç­‰é˜æµ®ä¼—ç”Ÿï¼Œèº«å£æ„ä¸šï¼Œæ¶ä¹ ç»“æœï¼Œç™¾åƒæŠ¥åº”ï¼Œä»Šç²—ç•¥è¯´ã€‚å¦‚æ˜¯ç­‰é˜æµ®ä¼—ç”Ÿä¸šæ„Ÿå·®åˆ«ï¼Œåœ°è—è©è¨ç™¾åƒæ–¹ä¾¿è€Œæ•™åŒ–ä¹‹ã€‚æ˜¯è¯¸ä¼—ç”Ÿï¼Œå…ˆå—å¦‚æ˜¯ç­‰æŠ¥ï¼Œåå •åœ°ç‹±ï¼ŒåŠ¨ç»åŠ«æ•°ï¼Œæ— æœ‰å‡ºæœŸã€‚æ˜¯æ•…æ±ç­‰ï¼ŒæŠ¤å¿µæ±ç­‰ï¼Œæ°¸ç¦»æ­¤é“ã€‚ã€</p><p>å°”æ—¶æ‘©è€¶å¤«äººï¼Œé—»åœ°è—è©è¨æ‰€è¯´æ¶ä¸šæœæŠ¥ï¼Œç”šå¤§å¯ç•ï¼ŒåˆæŒé¡¶ç¤¼ï¼Œç™½è¨€ï¼šã€Œåœ£è€…ï¼Œæ„¿å—æˆ‘ç­‰ä¼˜å©†å¤·åæˆ’ï¼Œæ°¸ä¸ºå–„é“ã€‚é—»åœ°è—è©è¨æ‰€è¨€ï¼Œç›Šå¢æ·±ä¿¡ã€‚ã€</p><p>åˆæŒè€Œé€€ã€‚` }
            ]; // ä¸ºç®€æ´ä»…åˆ—ä¸‰å“ï¼Œå®é™…å¯æ‰©å……

            // ---------- æ ¸å¿ƒæœ—è¯»ä¸å…‰æ ‡å®šä½ ----------
            let currentChapterIndex = 0;
            const scriptureDiv = document.getElementById('scriptureContent');
            const chapterInfo = document.getElementById('chapterInfo');
            const prevBtn = document.getElementById('prevChapter');
            const nextBtn = document.getElementById('nextChapter');

            // åŠ è½½ç« èŠ‚
            function loadChapter(index) {
                if (index < 0 || index >= chapters.length) return;
                currentChapterIndex = index;
                const chap = chapters[index];
                scriptureDiv.innerHTML = chap.content;
                chapterInfo.innerText = `å½“å‰ç« èŠ‚ï¼š${chap.title}`;
                prevBtn.disabled = (index === 0);
                nextBtn.disabled = (index === chapters.length-1);
                // é‡ç½®æ’­æ”¾å™¨çŠ¶æ€
                resetReader();
            }

            prevBtn.addEventListener('click', ()=> loadChapter(currentChapterIndex-1));
            nextBtn.addEventListener('click', ()=> loadChapter(currentChapterIndex+1));
            loadChapter(0); // åˆå§‹

            // ---------- æœ—è¯»å¼•æ“ï¼šSpeechSynthesis ----------
            const synth = window.speechSynthesis;
            let utterance = null;
            let isSpeaking = false;
            let isPaused = false;
            let currentSentence = "";          // å½“å‰æ­£åœ¨è¯»çš„å¥å­
            let currentCharPos = 0;             // åœ¨å…¨æ–‡ä¸­çš„å­—ç¬¦åç§»(ç²—ç•¥)
            let fullText = "";                  // å½“å‰å¯è§†å…¨æ–‡(ä»…æ–‡å­—)

            // è·å–çº¯å‡€æ–‡æœ¬ (å»æ‰htmlæ ‡ç­¾ï¼Œåªç•™æ–‡å­—)
            function getCleanText() {
                const cloneDiv = scriptureDiv.cloneNode(true);
                // ç§»é™¤è„šæœ¬ï¼Ÿæ— ã€‚ä½†ä¿ç•™æ–‡æœ¬
                return (cloneDiv.innerText || cloneDiv.textContent).replace(/\s+/g, ' ').trim();
            }

            // é‡ç½®æœ—è¯»çŠ¶æ€
            function resetReader() {
                if (synth.speaking) synth.cancel();
                utterance = null;
                isSpeaking = false; isPaused = false;
                updatePlayButton();
                document.getElementById('cursorHint').innerHTML = `<i>ğŸ“</i> ç‚¹å‡»æ–‡æœ¬é€‰æ‹©å¼€å§‹å¤„`;
                document.getElementById('statusMsg').innerText = 'åœæ­¢';
                document.getElementById('progressFill').style.width = '0%';
                document.getElementById('currentTime').innerText = '00:00';
                fullText = getCleanText();  // æ›´æ–°å…¨æ–‡
            }

            // æ ¹æ®å­—ç¬¦åç§»æ‰¾åˆ°å¥å­ (ç®€å•æŒ‰å¥å·ã€æ„Ÿå¹å·ç­‰åˆ†å‰²)
            function findSentenceAtOffset(offset) {
                if (!fullText) fullText = getCleanText();
                if (offset >= fullText.length) offset = fullText.length-1;
                // å‘å‰å¯»æ‰¾å¥å­å¼€å¤´ (ã€‚ï¼ï¼Ÿï¼›ç­‰)
                let start = 0;
                for (let i = offset; i >= 0; i--) {
                    if (i===0) { start=0; break; }
                    const ch = fullText[i];
                    if (ch === 'ã€‚' || ch === 'ï¼' || ch === 'ï¼Ÿ' || ch === 'ï¼›' || ch === '\n') {
                        start = i+1;
                        break;
                    }
                }
                let end = fullText.length;
                for (let i = start; i < fullText.length; i++) {
                    const ch = fullText[i];
                    if (ch === 'ã€‚' || ch === 'ï¼' || ch === 'ï¼Ÿ' || ch === 'ï¼›' || ch === '\n') {
                        end = i+1; // åŒ…å«æ ‡ç‚¹
                        break;
                    }
                }
                return { sentence: fullText.substring(start, end), startIdx: start, endIdx: end };
            }

            // ä»æŒ‡å®šå­—ç¬¦å¼€å§‹æœ—è¯»
            function speakFromOffset(offset) {
                if (!fullText) fullText = getCleanText();
                if (fullText.length === 0) return;
                if (offset < 0) offset = 0;
                if (offset >= fullText.length) offset = fullText.length-1;
                
                const { sentence, startIdx, endIdx } = findSentenceAtOffset(offset);
                if (!sentence.trim()) return;
                currentSentence = sentence;
                currentCharPos = startIdx; // è®°å½•èµ·å§‹

                if (synth.speaking) synth.cancel();

                utterance = new SpeechSynthesisUtterance(sentence);
                utterance.lang = 'zh-CN';
                utterance.rate = 0.9;
                utterance.onstart = () => {
                    isSpeaking = true; isPaused = false;
                    updatePlayButton();
                    document.getElementById('statusMsg').innerText = 'æœ—è¯»ä¸­...';
                };
                utterance.onend = () => {
                    // è¯»å®Œä¸€å¥ï¼Œè‡ªåŠ¨å°è¯•ä¸‹ä¸€å¥ (å¯é€‰)
                    isSpeaking = false; isPaused = false;
                    updatePlayButton();
                    document.getElementById('statusMsg').innerText = 'å¥æœ«æš‚åœ';
                };
                utterance.onerror = () => {
                    isSpeaking = false; updatePlayButton();
                };
                utterance.onpause = () => { isPaused = true; updatePlayButton(); };
                utterance.onresume = () => { isPaused = false; updatePlayButton(); };
                // è¿›åº¦æ¼”ç¤ºï¼šç®€å•æŒ‰æ—¶é—´æ¨¡æ‹Ÿï¼Œæ— æ³•è·å–å‡†ç¡®ä½ç½®ï¼Œåªæ›´æ–°æ˜¾ç¤º
                utterance.onboundary = (e) => { /* å¯å¿½ç•¥ */ };

                synth.speak(utterance);
                document.getElementById('cursorHint').innerHTML = `<i>ğŸ“</i> ä» "${sentence.substring(0,15)}..." å¼€å§‹`;
            }

            // æ’­æ”¾/æš‚åœåˆ‡æ¢
            function togglePlay() {
                if (synth.speaking && isSpeaking) {
                    if (isPaused) {
                        synth.resume();
                    } else {
                        synth.pause();
                    }
                } else {
                    // æ²¡æœ‰åœ¨æœ—è¯»ï¼Œå°è¯•ä»ä¸Šæ¬¡ä½ç½®æˆ–å…‰æ ‡ä½ç½®å¼€å§‹
                    if (lastClickOffset !== undefined && fullText) {
                        speakFromOffset(lastClickOffset);
                    } else {
                        // é»˜è®¤ä»å¤´
                        speakFromOffset(0);
                    }
                }
                updatePlayButton();
            }

            function stopReading() {
                if (synth.speaking) synth.cancel();
                isSpeaking = false; isPaused = false;
                updatePlayButton();
                document.getElementById('statusMsg').innerText = 'åœæ­¢';
            }

            function nextSentence() {
                if (!fullText) fullText = getCleanText();
                let nextStart = currentCharPos + currentSentence.length;
                if (nextStart >= fullText.length) nextStart = 0;
                speakFromOffset(nextStart);
            }

            function prevSentence() {
                if (!fullText) fullText = getCleanText();
                let prevStart = currentCharPos - 1;
                if (prevStart < 0) prevStart = 0;
                const { startIdx } = findSentenceAtOffset(prevStart);
                if (startIdx !== currentCharPos) speakFromOffset(startIdx);
            }

            function updatePlayButton() {
                const btn = document.getElementById('playPauseBtn');
                if (synth.speaking && !synth.paused && isSpeaking) {
                    btn.innerHTML = '<span class="play-icon-large">âšâš</span>';
                } else {
                    btn.innerHTML = '<span class="play-icon-large">â–¶</span>';
                }
            }

            // ---------- ç›‘å¬æ–‡æœ¬åŒºåŸŸçš„ç‚¹å‡» (è·å–å…‰æ ‡ä½ç½®) ----------
            let lastClickOffset = 0;
            scriptureDiv.addEventListener('mouseup', function(e) {
                const selection = window.getSelection();
                if (!selection.rangeCount) return;
                const range = selection.getRangeAt(0);
                // è·å–ç‚¹å‡»å¤„æ–‡æœ¬å†…å®¹
                const clickedText = range.toString();
                if (!clickedText) return;

                // è®¡ç®—å…¨æ–‡ä¸­çš„åç§»: å¤æ‚ï¼Œæˆ‘ä»¬ç”¨ç®€å•æ–¹æ¡ˆï¼šè·å–å…‰æ ‡å‰çš„æ–‡æœ¬é•¿åº¦
                const preCaretRange = range.cloneRange();
                preCaretRange.selectNodeContents(scriptureDiv);
                preCaretRange.setEnd(range.endContainer, range.endOffset);
                const rawOffset = preCaretRange.toString().length;  // åŒ…æ‹¬htmlæ¢è¡Œå½±å“, ä½†innerTextèƒ½è¿‘ä¼¼

                // é‡æ–°è·å–çº¯å‡€å…¨æ–‡åç§»
                const pureFull = getCleanText();
                // ç²—ç•¥å¯¹åº” (innerTextä¼šåˆå¹¶ç©ºæ ¼ï¼Œä½†å¤§è‡´å¯ç”¨)
                lastClickOffset = Math.min(rawOffset, pureFull.length-1);
                
                // é¢„è§ˆå¥å­
                const { sentence } = findSentenceAtOffset(lastClickOffset);
                if (sentence) {
                    document.getElementById('cursorHint').innerHTML = `<i>ğŸ“</i> "${sentence.substring(0,18)}â€¦"`;
                } else {
                    document.getElementById('cursorHint').innerHTML = `<i>ğŸ“</i> ä½ç½®å·²è®°å½•`;
                }

                // å¦‚æœå½“å‰æ²¡æœ‰åœ¨æœ—è¯»ï¼Œæ›´æ–°çŠ¶æ€
                if (!synth.speaking) {
                    document.getElementById('statusMsg').innerText = 'å·²é€‰ä½ç½®ï¼Œç‚¹å‡»æ’­æ”¾';
                }
            });

            // ---------- ç»‘å®šæ’­æ”¾å™¨æŒ‰é’® ----------
            document.getElementById('playPauseBtn').addEventListener('click', togglePlay);
            document.getElementById('stopBtn').addEventListener('click', stopReading);
            document.getElementById('nextSentenceBtn').addEventListener('click', nextSentence);
            document.getElementById('prevSentenceBtn').addEventListener('click', prevSentence);

            // éŸ³é‡
            const volumeTrack = document.getElementById('volumeTrack');
            const volumeFill = document.getElementById('volumeFill');
            const volumeIcon = document.getElementById('volumeIcon');
            volumeTrack.addEventListener('click', (e) => {
                const rect = volumeTrack.getBoundingClientRect();
                let vol = (e.clientX - rect.left) / rect.width;
                vol = Math.min(1, Math.max(0, vol));
                if (utterance) utterance.volume = vol;
                else if (synth) { /* å…¨å±€éŸ³é‡æ— æ³•ç›´æ¥è®¾ç½®ï¼Œä½†å¯ä»¥åç»­ */ }
                volumeFill.style.width = vol*100 + '%';
                volumeIcon.innerText = vol === 0 ? 'ğŸ”‡' : (vol < 0.5 ? 'ğŸ”ˆ' : 'ğŸ”Š');
            });

            // è¿›åº¦æ¡ç‚¹å‡»ç®€å•å¿«è¿› (æŒ‰æ¯”ä¾‹è·³è½¬æ–‡æœ¬)
            document.getElementById('progressArea').addEventListener('click', (e) => {
                if (!fullText) fullText = getCleanText();
                const rect = e.currentTarget.getBoundingClientRect();
                const ratio = (e.clientX - rect.left) / rect.width;
                const targetOffset = Math.floor(ratio * fullText.length);
                lastClickOffset = targetOffset;
                speakFromOffset(targetOffset);
            });

            // è®¡æ•°å™¨ï¼ˆä¿ç•™åŸæ ·ï¼‰
            (function initCounter() {
                const el = document.getElementById('globalVisitCount');
                let c = localStorage.getItem('dzVisit') || 2864;
                c = parseInt(c)+1;
                localStorage.setItem('dzVisit', c);
                el.innerText = c;
            })();

            // å¹¿å‘Šå…³é—­
            document.getElementById('closeAd').addEventListener('click', function(e){
                e.stopPropagation();
                document.getElementById('telecomAd').style.display='none';
            });
        })();
    </script>
</body>
</html>
